<!DOCTYPE html>
<html>

<head>
<title>iTinerary</title>
<!--jQuery References-->
<script src="http://code.jquery.com/jquery-1.11.1.min.js" type="text/javascript"></script>
<script src="http://code.jquery.com/ui/1.11.0/jquery-ui.min.js" type="text/javascript"></script>

<!--Theme-->
<link href="http://cdn.wijmo.com/themes/aristo/jquery-wijmo.css" rel="stylesheet" type="text/css" />

<!--Wijmo Widgets CSS-->
<link href="http://cdn.wijmo.com/jquery.wijmo-pro.all.3.20152.78.min.css" rel="stylesheet" type="text/css" />

<!--Wijmo Widgets JavaScript-->
<script src="http://cdn.wijmo.com/jquery.wijmo-open.all.3.20152.78.min.js" type="text/javascript"></script>
<script src="http://cdn.wijmo.com/jquery.wijmo-pro.all.3.20152.78.min.js" type="text/javascript"></script>
<script src="http://cdn.wijmo.com/interop/wijmo.data.ajax.3.20152.78.js" type="text/javascript"></script>

<script type="text/javascript">
  $(document).ready(function () {
      $("#startdate").wijinputdate(
              {
                  showTrigger: true
              });
      $("#enddate").wijinputdate(
              {
                  showTrigger: true
              });
  });
</script>
</head>

<body id="attractions-show-body">
<% if flash[:error] %>
    <div class="notice"><b><%= flash[:error] %></b></div>
<% end %>


<div class="row">
<h1>iTinerary</h1>
</div>

<div id="date-form" class="row">
    <form class="form-inline" method='post' action='welcome/save'>

        <label for="destination">Destination</label>
        <input name="destination" class ="form-control" type="text"value="<%= params[:destination] %>" required>


        <label for="startdate">Arrival Date</label>
        <input name="startdate" class ="form-control" type="text" id="startdate" />
        <label for="enddate">Departure Date</label>
        <input name="enddate" class ="form-control" type="text" id="enddate" />

        <input class ="btn btn-default" type="submit" value="Submit"/>
      </form>
</div>
    <div class = "container-fluid">
    <div class = "row">
    <% if @show_attractions %>
        <h1>Attractions around <%= params[:destination] %></h1>

    </div>
    <div id = "attraction-row" class = "row">
      <ul id="attraction-info">
      <% Attraction.where('city = ?', params[:destination]).find_each  do |attraction| %>

        
          <li> <b> <%= link_to attraction.name, attraction_show_by_id_path(attraction.id) %>
            (Foursquare Rating: <%= attraction.rating %>/10)</b>
            <br> <%= attraction.description %>
          </li>
      <% end %>
      
    <% end %>
  </ul>
    </div>


    Attraction data gathered using Foursquare API.

  </div>

</body>

</html>